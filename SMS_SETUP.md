# Настройка SMS сервиса

## Переменные окружения для SMS

Добавьте следующие переменные в ваш `.env` файл:

```env
# SMS Service Configuration
SMS_API_URL=https://your-sms-api-url.com

# Вариант 1: Использование готового токена (рекомендуется)
SMS_API_TOKEN=your-api-token-here

# Вариант 2: Получение токена через email/password (если токен не указан)
SMS_AUTH_EMAIL=your-email@example.com
SMS_AUTH_SECRET_KEY=your-secret-key

SMS_FROM_NUMBER=4546
SMS_CODE_EXPIRE_MINUTES=5
SMS_MAIN_PHONE_NUMBER=+998900000000  # Тестовый номер (опционально)
SMS_MAIN_CODE=1234  # Код для тестового номера (опционально)
```

**Примечание:** Если указан `SMS_API_TOKEN`, он будет использоваться напрямую. Если токен не указан, система попытается получить токен через `SMS_AUTH_EMAIL` и `SMS_AUTH_SECRET_KEY`.

## Формат номера телефона

Все номера должны быть в формате узбекского стандарта:
- Формат: `+998XXXXXXXXX`
- Пример: `+998900000000`
- Обязательно начинается с `+998`
- После `+998` должно быть 9 цифр

## Тестирование

Для тестирования без реальной отправки SMS:
1. Установите `SMS_MAIN_PHONE_NUMBER` на ваш тестовый номер
2. Установите `SMS_MAIN_CODE` на фиксированный код (например, `1234`)
3. При использовании тестового номера SMS не будет отправляться, но код будет работать

## Безопасность

- Все запросы к SMS API защищены таймаутами
- Ошибки не раскрывают детали для безопасности
- Коды верификации имеют срок действия (по умолчанию 5 минут)
- Использованные коды автоматически удаляются

